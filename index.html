<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>iOS Demo Website</title>
<style>
  * { box-sizing: border-box; }
  body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; min-height: 100vh; color: white; transition: color 0.3s; }
  .button { padding: 10px 20px; border-radius: 12px; border: none; background: #1e90ff; color: white; cursor: pointer; margin: 10px; transition: 0.2s; }
  .button:hover { background: #63b3ff; }
  .ios-screen { display: none; padding: 20px; background-size: cover; min-height: 100vh; }
  .ios-screen.active { display: block; }
  .home-screen { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; }
  .app { background: rgba(0,0,0,0.6); border-radius: 20px; padding: 20px; text-align: center; cursor: pointer; transition: 0.2s; }
  .app:hover { transform: scale(1.05); }
  .app img { width: 60px; height: 60px; border-radius: 12px; }
  .back-btn { padding: 8px 12px; border: none; border-radius: 8px; background: #ff6347; color: white; cursor: pointer; margin-bottom: 10px; }
  input, select { padding: 5px; border-radius: 6px; border: none; margin-top: 5px; }
  iframe { width: 100%; height: 80vh; border: none; }
</style>
</head>
<body>

<div id="mainMenu">
  <h1>Try the iOS Demo</h1>
  <p>Select a background and launch the iOS experience:</p>
  <select id="bgSelectMenu"></select>
  <br>
  <button class="button" onclick="startIOS()">Start iOS Demo</button>
</div>

<div id="iosScreen" class="ios-screen">
  <button class="back-btn" onclick="exitIOS()">Exit iOS</button>
  <div class="home-screen" id="appContainer"></div>
</div>

<div id="browserScreen" class="ios-screen">
  <button class="back-btn" onclick="backHome()">Back</button>
  <h2>Browser</h2>
  <input type="text" id="urlInput" placeholder="Enter URL or site name" style="width:100%; padding:10px; margin-bottom:10px;">
  <button class="button" onclick="loadURL()">Go</button>
  <iframe id="browserFrame"></iframe>
</div>

<script>
const iosScreen = document.getElementById('iosScreen');
const mainMenu = document.getElementById('mainMenu');
const appContainer = document.getElementById('appContainer');
const browserScreen = document.getElementById('browserScreen');
const urlInput = document.getElementById('urlInput');
const browserFrame = document.getElementById('browserFrame');

const bgOptions = ['nature','space','ocean','abstract','city','mountain','forest','desert','beach','snow','flowers','sunset','night','waterfall','river','clouds','stars','galaxy','rain','lava'];
const bgSelectMenu = document.getElementById('bgSelectMenu');
bgOptions.forEach(bg => {
  const option = document.createElement('option');
  option.value = `https://source.unsplash.com/1600x900/?${bg}`;
  option.text = bg.charAt(0).toUpperCase() + bg.slice(1);
  bgSelectMenu.appendChild(option);
});

let apps = [
  {name: 'Calculator', func: calculatorApp},
  {name: 'Map', func: mapApp},
  {name: 'Siri', func: siriApp}
];

function startIOS(){
  mainMenu.style.display = 'none';
  iosScreen.classList.add('active');
  iosScreen.style.backgroundImage = `url('${bgSelectMenu.value}')`;
  renderApps();
}

function exitIOS(){
  iosScreen.classList.remove('active');
  mainMenu.style.display = 'block';
}

function renderApps(){
  appContainer.innerHTML = '';
  apps.forEach(app => {
    const div = document.createElement('div');
    div.className = 'app';
    div.innerHTML = `<img src='https://img.icons8.com/ios-filled/100/ffffff/file.png'><p>${app.name}</p>`;
    div.onclick = () => app.func();
    appContainer.appendChild(div);
  });
}

// App functions
function calculatorApp(){
  const result = prompt('Calculator: Enter expression, e.g. 2+2');
  if(result !== null){
    try { alert('Result: ' + eval(result)); } catch(e){ alert('Invalid expression'); }
  }
}
function mapApp(){ alert('Map App launched (demo)'); }
function siriApp(){ alert('Siri App launched (demo)'); }

// Browser
function backHome(){
  browserScreen.classList.remove('active');
  iosScreen.classList.add('active');
}
function loadURL(){
  let url = urlInput.value.trim();
  if(!url.startsWith('http')) url = 'https://' + url;
  browserFrame.src = url;
  iosScreen.classList.remove('active');
  browserScreen.classList.add('active');
}
</script>

</body>
</html>
