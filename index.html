<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>iOS Demo Website with App Icons</title>
<style>
  * { box-sizing: border-box; }
  body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; min-height: 100vh; color: white; transition: color 0.3s, background 0.3s; }
  .button { padding: 10px 20px; border-radius: 12px; border: none; background: #1e90ff; color: white; cursor: pointer; margin: 10px; transition: 0.2s; }
  .button:hover { background: #63b3ff; }
  .ios-screen { display: none; padding: 20px; background-size: cover; min-height: 100vh; }
  .ios-screen.active { display: block; }
  .home-screen { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; }
  .app { background: rgba(0,0,0,0.6); border-radius: 20px; padding: 20px; text-align: center; cursor: pointer; transition: 0.2s; }
  .app:hover { transform: scale(1.05); }
  .app img { width: 60px; height: 60px; border-radius: 12px; }
  .back-btn { padding: 8px 12px; border: none; border-radius: 8px; background: #ff6347; color: white; cursor: pointer; margin-bottom: 10px; }
  input, select { padding: 5px; border-radius: 6px; border: none; margin-top: 5px; }
  iframe { width: 100%; height: 80vh; border: none; }
  .calculator input, .settings input { width: 100%; padding: 10px; margin-bottom: 10px; border-radius: 8px; border: none; }
  .siri input { width: 100%; padding: 10px; border-radius: 8px; border: none; }
</style>
</head>
<body>

<div id="mainMenu">
  <h1>Try the iOS Demo</h1>
  <p>Select a background and launch the iOS experience:</p>
  <select id="bgSelectMenu"></select>
  <br>
  <button class="button" onclick="startIOS()">Start iOS Demo</button>
</div>

<div id="iosScreen" class="ios-screen">
  <button class="back-btn" onclick="exitIOS()">Exit iOS</button>
  <div class="home-screen" id="appContainer"></div>
</div>

<div id="browserScreen" class="ios-screen">
  <button class="back-btn" onclick="backHome()">Back</button>
  <h2>Browser</h2>
  <input type="text" id="urlInput" placeholder="Enter URL or site name">
  <button class="button" onclick="loadURL()">Go</button>
  <iframe id="browserFrame"></iframe>
</div>

<div id="calculatorScreen" class="ios-screen calculator">
  <button class="back-btn" onclick="backHome()">Back</button>
  <h2>Calculator</h2>
  <input type="text" id="calcInput" placeholder="Enter expression, e.g. 2+2">
  <button class="button" onclick="calculate()">Calculate</button>
  <p id="calcResult"></p>
</div>

<div id="siriScreen" class="ios-screen siri">
  <button class="back-btn" onclick="backHome()">Back</button>
  <h2>Siri</h2>
  <input type="text" id="siriInput" placeholder="Ask me anything">
  <button class="button" onclick="siriRespond()">Speak</button>
  <p id="siriResponse"></p>
</div>

<div id="settingsScreen" class="ios-screen settings">
  <button class="back-btn" onclick="backHome()">Back</button>
  <h2>Settings</h2>
  <p>Change background color, choose a picture, or upload your own:</p>
  <input type="color" id="bgColorInput" onchange="changeBgColor()">
  <input type="file" id="bgUpload" accept="image/*" onchange="uploadBgImage(event)">
  <select id="bgImageSelect" onchange="changeBgImage()"></select>
</div>

<script>
const iosScreen = document.getElementById('iosScreen');
const mainMenu = document.getElementById('mainMenu');
const appContainer = document.getElementById('appContainer');
const browserScreen = document.getElementById('browserScreen');
const calculatorScreen = document.getElementById('calculatorScreen');
const siriScreen = document.getElementById('siriScreen');
const settingsScreen = document.getElementById('settingsScreen');
const urlInput = document.getElementById('urlInput');
const browserFrame = document.getElementById('browserFrame');
const calcInput = document.getElementById('calcInput');
const calcResult = document.getElementById('calcResult');
const siriInput = document.getElementById('siriInput');
const siriResponse = document.getElementById('siriResponse');
const bgSelectMenu = document.getElementById('bgSelectMenu');
const bgColorInput = document.getElementById('bgColorInput');
const bgUpload = document.getElementById('bgUpload');
const bgImageSelect = document.getElementById('bgImageSelect');

const bgOptions = ['nature','space','ocean','abstract','city','mountain','forest','desert','beach','snow','flowers','sunset','night','waterfall','river','clouds','stars','galaxy','rain','lava','mountains2','beach2','forest2','city2','ocean2','sunrise','sunset2','night2','stars2','flowers2','desert2'];

bgOptions.forEach(bg => {
  const optionMenu = document.createElement('option');
  optionMenu.value = `https://source.unsplash.com/1600x900/?${bg}`;
  optionMenu.text = bg.charAt(0).toUpperCase() + bg.slice(1);
  bgSelectMenu.appendChild(optionMenu);

  const optionSettings = document.createElement('option');
  optionSettings.value = `https://source.unsplash.com/1600x900/?${bg}`;
  optionSettings.text = bg.charAt(0).toUpperCase() + bg.slice(1);
  bgImageSelect.appendChild(optionSettings);
});

let apps = [
  {name: 'Calculator', screen: calculatorScreen, icon: 'https://img.icons8.com/ios-filled/100/ffffff/calculator.png'},
  {name: 'Map', func: mapApp, icon: 'https://img.icons8.com/ios-filled/100/ffffff/map.png'},
  {name: 'Siri', screen: siriScreen, icon: 'https://img.icons8.com/ios-filled/100/ffffff/voice-command.png'},
  {name: 'Browser', screen: browserScreen, icon: 'https://img.icons8.com/ios-filled/100/ffffff/internet.png'},
  {name: 'Settings', screen: settingsScreen, icon: 'https://img.icons8.com/ios-filled/100/ffffff/settings.png'}
];

function startIOS(){
  mainMenu.style.display = 'none';
  iosScreen.classList.add('active');
  iosScreen.style.backgroundImage = `url('${bgSelectMenu.value}')`;
  renderApps();
}

function exitIOS(){
  iosScreen.classList.remove('active');
  mainMenu.style.display = 'block';
}

function renderApps(){
  appContainer.innerHTML = '';
  apps.forEach(app => {
    const div = document.createElement('div');
    div.className = 'app';
    div.innerHTML = `<img src='${app.icon}'><p>${app.name}</p>`;
    div.onclick = () => {
      document.querySelectorAll('.ios-screen').forEach(s => s.classList.remove('active'));
      if(app.screen){
        app.screen.classList.add('active');
      } else if(app.func){
        app.func();
        iosScreen.classList.add('active');
      }
    };
    appContainer.appendChild(div);
  });
}

function backHome(){
  document.querySelectorAll('.ios-screen').forEach(s => s.classList.remove('active'));
  iosScreen.classList.add('active');
}

// Calculator
function calculate(){
  try { calcResult.innerText = 'Result: ' + eval(calcInput.value); }
  catch(e){ calcResult.innerText = 'Invalid expression'; }
}

// Siri
function siriRespond(){
  const text = siriInput.value.toLowerCase();
  if(!text) { siriResponse.innerText = '...'; return; }
  if(text.includes('time')) siriResponse.innerText = 'It is ' + new Date().toLocaleTimeString();
  else if(text.includes('hello')) siriResponse.innerText = 'Hello there!';
  else siriResponse.innerText = 'I heard: ' + siriInput.value;
}

// Map demo
function mapApp(){ alert('Map App launched (demo)'); }

// Browser
function loadURL(){
  let url = urlInput.value.trim();
  if(!url.startsWith('http')) url = 'https://' + url;
  browserFrame.src = url;
}

// Settings
function changeBgColor(){
  iosScreen.style.background = bgColorInput.value;
  iosScreen.style.backgroundImage = '';
}

function uploadBgImage(event){
  const reader = new FileReader();
  reader.onload = function(){
    iosScreen.style.backgroundImage = `url('${reader.result}')`;
    iosScreen.style.backgroundColor = '';
  }
  reader.readAsDataURL(event.target.files[0]);
}

function changeBgImage(){
  iosScreen.style.backgroundImage = `url('${bgImageSelect.value}')`;
  iosScreen.style.backgroundColor = '';
}
</script>

</body>
</html>
