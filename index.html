<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>iOS Demo v5</title>
<style>
*{box-sizing:border-box}
body{margin:0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;color:white}
.screen{display:none;min-height:100vh;padding:15px;background-size:cover;background-position:center}
.screen.active{display:block}
.button{padding:10px 16px;border:none;border-radius:14px;background:#1e90ff;color:white;cursor:pointer}
.home{display:grid;grid-template-columns:repeat(4,1fr);gap:18px;padding-bottom:90px}
.app{background:rgba(0,0,0,.6);border-radius:20px;padding:14px;text-align:center;cursor:pointer;user-select:none}
.app img{width:56px;height:56px;border-radius:14px}
.dock{position:fixed;bottom:0;left:0;right:0;height:80px;background:rgba(0,0,0,.7);display:flex;justify-content:center;gap:25px;padding:12px}
.folder{background:rgba(0,0,0,.4);border-radius:20px;padding:10px;grid-column:span 2}
.lock{display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:28px}
</style>
</head>
<body>

<div id="lock" class="screen active lock">
  <h1 id="time"></h1>
  <button class="button" onclick="unlock()">Swipe to Unlock</button>
</div>

<div id="wallpaperSetup" class="screen">
  <h2>Choose a Wallpaper</h2>
  <div id="wallGrid" style="display:grid;grid-template-columns:repeat(2,1fr);gap:15px"></div>
  <button class="button" onclick="finishSetup()">Continue</button>
</div>

<div id="home" class="screen">
  <div class="home" id="apps"></div>
  <div class="dock" id="dock"></div>
</div>

<script>
const screens=document.querySelectorAll('.screen')
const appsEl=document.getElementById('apps')
const dockEl=document.getElementById('dock')
const wallGrid=document.getElementById('wallGrid')

const wallpapers=[
 'linear-gradient(135deg,#1e3c72,#2a5298)',
 'linear-gradient(135deg,#0f2027,#203a43,#2c5364)',
 'linear-gradient(135deg,#42275a,#734b6d)',
 'linear-gradient(135deg,#134e5e,#71b280)'
]

let installed=JSON.parse(localStorage.getItem('apps'))||['Browser','Calculator','Siri','Folder']

const appData={
 Browser:{icon:'https://img.icons8.com/ios-filled/100/ffffff/internet.png'},
 Calculator:{icon:'https://img.icons8.com/ios-filled/100/ffffff/calculator.png'},
 Siri:{icon:'https://img.icons8.com/ios-filled/100/ffffff/voice-command.png'},
 Folder:{icon:'https://img.icons8.com/ios-filled/100/ffffff/folder-invoices.png'}
}

function show(id){screens.forEach(s=>s.classList.remove('active'));document.getElementById(id).classList.add('active')}

function unlock(){
 if(!localStorage.getItem('bg')) show('wallpaperSetup')
 else show('home')
 renderApps()
}

function finishSetup(){show('home');renderApps()}

function renderApps(){appsEl.innerHTML='';dockEl.innerHTML='';installed.forEach((a,i)=>{
 const d=document.createElement('div');d.className='app';d.draggable=true
 d.innerHTML=`<img src="${appData[a].icon}"><p>${a}</p>`
 d.ondragstart=e=>e.dataTransfer.setData('app',a)
 appsEl.appendChild(d)
 if(i<4) dockEl.appendChild(d.cloneNode(true))
})}

appsEl?.addEventListener('dragover',e=>e.preventDefault())
appsEl?.addEventListener('drop',e=>{
 e.preventDefault();const a=e.dataTransfer.getData('app');installed.push(a);save();renderApps()
})

wallpapers.forEach(w=>{
 const d=document.createElement('div');d.style.height='160px';d.style.borderRadius='20px';d.style.background=w
 d.onclick=()=>{home.style.background=w;localStorage.setItem('bg',w)}
 wallGrid.appendChild(d)
})

function save(){localStorage.setItem('apps',JSON.stringify(installed))}

setInterval(()=>{time.innerText=new Date().toLocaleTimeString()},1000)

window.onload=()=>{
 const bg=localStorage.getItem('bg');if(bg) home.style.background=bg
}
</script>
</body>
</html>
