else if(appName === 'Browser') {
    const sites = {
      "Google": "https://www.google.com",
      "YouTube": "https://www.youtube.com",
      "Facebook": "https://www.facebook.com",
      "Twitter": "https://www.twitter.com",
      "Reddit": "https://www.reddit.com",
      "Wikipedia": "https://www.wikipedia.org",
      "Instagram": "https://www.instagram.com",
      "OpenStreetMap": "https://www.openstreetmap.org"
    };

    appContent.innerHTML = `
      <button class="close-btn browser-close" onclick="closeApp()">âœ–</button>
      <div style="padding:10px; flex-shrink:0; display:flex; flex-wrap:wrap; align-items:center;">
        <input type="text" id="siteInput" placeholder="Enter site name or URL" style="flex:1;padding:5px; margin-right:5px;">
        <button onclick="searchOrOpenSite()">Go</button>
      </div>
      <div id="siteOptions" style="padding:10px; display:flex; flex-wrap:wrap;"></div>
      <iframe id="browserFrame" src=""></iframe>
    `;
    window.sites = sites;
}

// Updated search function with AI suggestions
function searchOrOpenSite() {
  const input = document.getElementById('siteInput').value.trim();
  const optionsDiv = document.getElementById('siteOptions');
  optionsDiv.innerHTML = "";

  // If input matches a site in predefined list
  const matchedSites = Object.entries(window.sites).filter(([name]) =>
    name.toLowerCase().includes(input.toLowerCase())
  );

  if (matchedSites.length > 0) {
    matchedSites.forEach(([name, link]) => {
      const btn = document.createElement('button');
      btn.textContent = name;
      btn.style.margin = "5px";
      btn.style.padding = "5px 10px";
      btn.style.borderRadius = "5px";
      btn.style.border = "1px solid #007aff";
      btn.style.background = "white";
      btn.style.cursor = "pointer";
      btn.onclick = () => document.getElementById('browserFrame').src = link;
      optionsDiv.appendChild(btn);
    });
  }

  // If input looks like a URL, open it
  if (/^(https?:\/\/)/i.test(input) || input.includes(".")) {
    let url = input;
    if (!/^https?:\/\//i.test(url)) url = "https://" + url;
    document.getElementById('browserFrame').src = url;
  }

  // AI suggestions
  const aiSuggestions = generateAISuggestions(input);
  aiSuggestions.forEach(suggestion => {
    const aiBtn = document.createElement('button');
    aiBtn.textContent = "AI: " + suggestion.label;
    aiBtn.style.margin = "5px";
    aiBtn.style.padding = "5px 10px";
    aiBtn.style.borderRadius = "5px";
    aiBtn.style.border = "1px solid green";
    aiBtn.style.background = "#e0ffe0";
    aiBtn.style.cursor = "pointer";
    aiBtn.onclick = () => document.getElementById('browserFrame').src = suggestion.url;
    optionsDiv.appendChild(aiBtn);
  });
}

// Simple AI suggestion generator
function generateAISuggestions(input) {
  const suggestions = [];
  const query = input.toLowerCase();
  if (!query) return suggestions;

  if (query.includes("search")) {
    suggestions.push({label: "Google Search", url: "https://www.google.com"});
  }
  if (query.includes("video") || query.includes("youtube")) {
    suggestions.push({label: "YouTube", url: "https://www.youtube.com"});
  }
  if (query.includes("map") || query.includes("location")) {
    suggestions.push({label: "OpenStreetMap", url: "https://www.openstreetmap.org"});
  }
  if (query.includes("wiki") || query.includes("information")) {
    suggestions.push({label: "Wikipedia", url: "https://www.wikipedia.org"});
  }

  // Default suggestion if no match
  if (suggestions.length === 0) {
    suggestions.push({label: "Try Google", url: "https://www.google.com"});
  }
  return suggestions;
}
